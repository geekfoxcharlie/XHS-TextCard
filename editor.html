<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∑•‰ΩúÂè∞ | XHS-TextCard - Â∞èÁ∫¢‰π¶Êô∫ËÉΩÊñáÂ≠óÊéíÁâàÂ∑•ÂÖ∑</title>
    <meta name="description" content="XHS-TextCard Â∑•‰ΩúÂè∞Ôºö‰∏ÄÈîÆÂ∞ÜÊñáÂ≠óËΩ¨Âåñ‰∏∫Â∞èÁ∫¢‰π¶È£éÊ†ºÂõæÁâá„ÄÇÊîØÊåÅËá™ÂÆö‰πâÊ®°Êùø„ÄÅÁ≠æÂêç‰∏éÊ∞¥Âç∞ÔºåËÆ©ÊÇ®ÁöÑÂÜÖÂÆπÊéíÁâàÊõ¥‰∏ì‰∏ö„ÄÇ">
    <meta name="keywords" content="Â∞èÁ∫¢‰π¶ÊéíÁâà,ÊñáÂ≠óËΩ¨ÂõæÁâá,Âú®Á∫øËÆæËÆ°Â∑•ÂÖ∑,XHS-TextCard,Âàõ‰ΩúËÄÖÂ∑•‰ΩúÂè∞">
    <link rel="canonical" href="https://www.xhs-textcard.site/editor.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.xhs-textcard.site/editor.html">
    <meta property="og:title" content="Â∑•‰ΩúÂè∞ | XHS-TextCard - Â∞èÁ∫¢‰π¶Êô∫ËÉΩÊñáÂ≠óÊéíÁâàÂ∑•ÂÖ∑">
    <meta property="og:description" content="XHS-TextCard Â∑•‰ΩúÂè∞Ôºö‰∏ÄÈîÆÂ∞ÜÊñáÂ≠óËΩ¨Âåñ‰∏∫Â∞èÁ∫¢‰π¶È£éÊ†ºÂõæÁâá„ÄÇÊîØÊåÅËá™ÂÆö‰πâÊ®°Êùø„ÄÅÁ≠æÂêç‰∏éÊ∞¥Âç∞„ÄÇ">
    <meta property="og:image" content="https://www.xhs-textcard.site/rednote.png">
    
    <script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@3.2.0/dist/dom-to-image-more.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Pickr -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/monolith.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/pages/editor.css">
</head>
<body class="editor-page">
    <div class="main-container">
        <!-- Â∑¶‰æßÔºöËæìÂÖ•Âå∫Âüü -->
        <div class="left-panel">
            <div class="panel-header" style="display: flex; align-items: center; padding: 0 var(--spacing-md); height: 50px; border-bottom: 1px solid var(--color-border);">
                <a href="index.html" class="btn-icon-text" title="ËøîÂõû‰∏ªÈ°µ" style="text-decoration: none; color: inherit; display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: 50%; transition: background 0.3s;">
                    <i class="fas fa-home"></i>
                </a>
                <div style="flex: 1; text-align: center; font-weight: 600; color: var(--color-text-primary);">Â∑•‰ΩúÂè∞</div>
            </div>
            <div class="input-section" style="flex: 1; display: flex; flex-direction: column; position: relative; border-top: none;">
                <div class="section-title">
                    <i class="fas fa-edit"></i>
                    ËæìÂÖ•ÊñáÂ≠ó
                    <div class="help-trigger" id="syntax-help-trigger">
                        <i class="far fa-question-circle"></i>
                        <div class="help-tooltip" id="syntax-help-tooltip">
                            <div class="help-title">ËØ≠Ê≥ïÈÄüÊü•</div>
                            <ul class="help-list">
                                <li><span># Ê†áÈ¢ò</span> <span>‰∏ÄÁ∫ßÊ†áÈ¢ò</span></li>
                                <li><span>## Ê†áÈ¢ò</span> <span>‰∫åÁ∫ßÊ†áÈ¢ò</span></li>
                                <li><span>---</span> <span>ÂàÜÂâ≤Á∫ø (Âº∫Âà∂ÂàÜÈ°µ)</span></li>
                                <li><span>**ÊñáÊú¨**</span> <span>Âä†Á≤ó</span></li>
                                <li><span>*ÊñáÊú¨*</span> <span>Êñú‰Ωì</span></li>
                                <li><span>~~ÊñáÊú¨~~</span> <span>Âà†Èô§Á∫ø</span></li>
                                <li><span>==ÊñáÊú¨==</span> <span>È´ò‰∫Æ</span></li>
                                <li><span>> ÊñáÊú¨</span> <span>ÂºïÁî®</span></li>
                                <li><span>`ÊñáÊú¨`</span> <span>Ë°åÂÜÖ‰ª£Á†Å</span></li>
                                <li><span>- ÂàóË°®</span> <span>Êó†Â∫èÂàóË°®</span></li>
                                <li><span>1. ÂàóË°®</span> <span>ÊúâÂ∫èÂàóË°®</span></li>
                                <li><span>‚Üµ‚Üµ</span> <span>ÂèåÂõûËΩ¶ (Âª∫ËÆÆÂàÜÈ°µÁÇπ)</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <textarea id="text-input" style="flex: 1;"></textarea>
            </div>
        </div>

        <!-- ‰∏≠Èó¥ÔºöÈ¢ÑËßàÂå∫Âüü -->
        <div class="preview-panel">
            <div class="preview-header">
                <div class="preview-title">È¢ÑËßà</div>
                <div class="preview-count" id="preview-count">ÂÖ± 0 Âº†ÂõæÁâá</div>
            </div>
            <div class="preview-list" id="preview-list">
                <div class="empty-state">
                    <div class="empty-state-icon">üìù</div>
                    <div>ËæìÂÖ•ÊñáÂ≠óÂπ∂ÈÄâÊã©Ê®°ÊùøÂêéÂ∞ÜËá™Âä®ÁîüÊàêÈ¢ÑËßà</div>
                </div>
            </div>
            <div class="loading" id="loading">ÁîüÊàê‰∏≠...</div>
        </div>

        <!-- Âè≥‰æß1ÔºöÊ®°ÊùøÈÄâÊã© -->
        <div class="template-panel">
            <div class="template-selector">
                <div class="section-title">
                    <i class="fas fa-palette"></i>
                    ÈÄâÊã©Ê®°Êùø
                </div>
                <div class="template-categories">
                    <button class="template-category active" data-category="featured">Êé®ËçêÊ®°Êùø</button>
                </div>
                <div class="template-list" id="template-list">
                    <!-- Ê®°ÊùøÂàóË°®Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <div class="download-section" style="margin-top: auto; padding: var(--spacing-lg); border-top: 1px solid var(--color-border);">
                <button class="btn btn-primary" id="download-all-btn" disabled style="width: 100%; height: 44px; font-weight: 600;">
                    <i class="fas fa-download"></i>
                    ÊâìÂåÖ‰∏ãËΩΩÂÖ®ÈÉ®ÂõæÁâá
                </button>
            </div>
        </div>

        <!-- Âè≥‰æß2ÔºöÊ®°ÊùøÁºñËæëÂô® -->
        <div class="editor-panel">
            <div class="editor-section">
                <div class="section-title">
                    <i class="fas fa-tools"></i>
                    Ê†∑ÂºèË∞ÉÊï¥
                </div>
                <div class="editor-tabs">
                    <button class="editor-tab active" data-tab="visual">
                        <i class="fas fa-magic"></i>
                        Âü∫Á°ÄÈÖçÁΩÆ
                    </button>
                </div>

                <!-- ÂèØËßÜÂåñÁºñËæëÂô® -->
                <div class="editor-content active" id="visual-editor">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-magic"></i> ËÉåÊôØÊ®°Âºè
                        </label>
                        <div class="bg-mode-selector">
                            <button class="bg-mode-btn active" data-mode="solid" title="Á∫ØËâ≤">
                                <i class="fas fa-square"></i>
                            </button>
                            <button class="bg-mode-btn" data-mode="gradient" title="Ê∏êÂèò">
                                <i class="fas fa-layer-group"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-fill-drip"></i> ËÉåÊôØÈ¢úËâ≤ / Ê∏êÂèò
                        </label>
                        <div class="color-presets" id="bg-color-presets">
                            <!-- Á∫ØËâ≤È¢ÑËÆæ (Ëé´ÂÖ∞Ëø™Ëâ≤Á≥ª) -->
                            <div class="solid-presets">
                                <div class="color-preset" style="background-color: #ffffff;" data-color="#ffffff" title="Á∫ØÁôΩ"></div>
                                <div class="color-preset" style="background-color: #E8D5C4;" data-color="#E8D5C4" title="ÊµÖÊùè"></div>
                                <div class="color-preset" style="background-color: #B5C0D0;" data-color="#B5C0D0" title="ÁÅ∞Ëìù"></div>
                                <div class="color-preset" style="background-color: #CCD3CA;" data-color="#CCD3CA" title="Ë±ÜÊ≤ôÁªø"></div>
                                <div class="color-preset" style="background-color: #F5E8DD;" data-color="#F5E8DD" title="ÊµÖÂíñ"></div>
                                <div class="color-preset" style="background-color: #9290C3;" data-color="#9290C3" title="Ëé´ÂÖ∞Á¥´"></div>
                                <div class="color-preset" style="background-color: #7C9D96;" data-color="#7C9D96" title="ÁÅ∞Áªø"></div>
                                <div class="color-preset" style="background-color: #1a1a1b;" data-color="#1a1a1b" title="ÊöóÈªë"></div>
                            </div>
                            <!-- Ê∏êÂèòÈ¢ÑËÆæ (ÂàùÂßãÈöêËóè) -->
                            <div class="gradient-presets" style="display: none;">
                                <div class="color-preset" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);" data-color="linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)" title="Êô®Êõ¶"></div>
                                <div class="color-preset" style="background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);" data-color="linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)" title="Êô¥Á©∫"></div>
                                <div class="color-preset" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);" data-color="linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)" title="ËúúÊ°É"></div>
                                <div class="color-preset" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);" data-color="linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%)" title="Ê¢¶Âπª"></div>
                                <div class="color-preset" style="background: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);" data-color="linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%)" title="Êú®Ë¥®"></div>
                                <div class="color-preset" style="background: linear-gradient(135deg, #cfd9df 0%, #e2ebf0 100%);" data-color="linear-gradient(135deg, #cfd9df 0%, #e2ebf0 100%)" title="Á¥†ÈõÖ"></div>
                            </div>
                            <div class="color-picker-wrapper" id="bg-color-picker-container">
                                <div id="bg-color-picker"></div>
                                <i class="fas fa-plus"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Ê∏êÂèòÈÖçÁΩÆÈù¢Êùø (ÂàùÂßãÈöêËóè) -->
                    <div id="gradient-editor-panel" class="editor-popup" style="display: none;">
                        <div class="popup-header">
                            <span>Ê∏êÂèòËÆæÁΩÆ</span>
                            <i class="fas fa-times close-popup"></i>
                        </div>
                        <div class="form-group popup-form-group">
                            <label class="form-label">Ëµ∑ÂßãÈ¢úËâ≤</label>
                            <div id="gradient-start-picker"></div>
                        </div>
                        <div class="form-group popup-form-group">
                            <label class="form-label">ÁªìÊùüÈ¢úËâ≤</label>
                            <div id="gradient-end-picker"></div>
                        </div>
                        <div class="form-group popup-form-group">
                            <label class="form-label">
                                ËßíÂ∫¶
                                <span class="form-range-value" id="gradient-angle-value">135deg</span>
                            </label>
                            <input type="range" class="form-range" id="gradient-angle" min="0" max="360" value="135">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-font"></i> ÊñáÂ≠óÈ¢úËâ≤
                        </label>
                        <div class="color-presets" id="text-color-presets">
                            <div class="color-preset" style="background-color: #333333;" data-color="#333333" title="Ê∑±ÁÅ∞"></div>
                            <div class="color-preset" style="background-color: #000000;" data-color="#000000" title="Á∫ØÈªë"></div>
                            <div class="color-preset" style="background-color: #495057;" data-color="#495057" title="‰∏≠ÁÅ∞"></div>
                            <div class="color-preset" style="background-color: #1c7ed6;" data-color="#1c7ed6" title="ÊûÅÂÖâËìù"></div>
                            <div class="color-preset" style="background-color: #d6336c;" data-color="#d6336c" title="Áé´Áë∞Á∫¢"></div>
                            <div class="color-preset" style="background-color: #37b24d;" data-color="#37b24d" title="Ê£ÆÊûóÁªø"></div>
                            <div class="color-preset" style="background-color: #f08c00;" data-color="#f08c00" title="Áê•ÁèÄÊ©ô"></div>
                            <div class="color-preset" style="background-color: #ffffff; border: 1px solid #ddd;" data-color="#ffffff" title="Á∫ØÁôΩ"></div>
                            <div class="color-picker-wrapper">
                                <div id="text-color-picker"></div>
                                <i class="fas fa-plus"></i>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-text-height"></i> Â≠ó‰ΩìÂ§ßÂ∞è</span>
                            <span class="form-range-value" id="font-size-value">16px</span>
                        </label>
                        <input type="range" class="form-range" id="font-size" min="12" max="32" value="16">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-arrows-alt-v"></i> Ë°åÈ´ò</span>
                            <span class="form-range-value" id="line-height-value">1.8</span>
                        </label>
                        <input type="range" class="form-range" id="line-height" min="1.2" max="3" step="0.1" value="1.8">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-arrows-alt-h"></i> Â≠óÈó¥Ë∑ù</span>
                            <span class="form-range-value" id="letter-spacing-value">0.5px</span>
                        </label>
                        <input type="range" class="form-range" id="letter-spacing" min="0" max="3" step="0.1" value="0.5">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-compress-alt"></i> ÂÜÖËæπË∑ù</span>
                            <span class="form-range-value" id="text-padding-value">40px</span>
                        </label>
                        <input type="range" class="form-range" id="text-padding" min="20" max="80" step="5" value="40">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-font"></i> Â≠ó‰ΩìÊóè
                        </label>
                        <select class="form-input" id="font-family">
                            <option value="-apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif" selected>Á≥ªÁªüÈªòËÆ§</option>
                            <option value="'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Noto Sans SC', sans-serif">ËãπÊñπ/ÊÄùÊ∫êÈªë‰Ωì</option>
                            <option value="'Microsoft YaHei', 'ÂæÆËΩØÈõÖÈªë', 'Noto Sans SC', sans-serif">ÂæÆËΩØÈõÖÈªë</option>
                            <option value="'SimSun', 'ÂÆã‰Ωì', 'Songti SC', serif">ÂÆã‰Ωì</option>
                            <option value="'KaiTi', 'Ê•∑‰Ωì', 'STKaiti', serif">Ê•∑‰Ωì</option>
                            <option value="'Heiti SC', 'Èªë‰Ωì', sans-serif">Èªë‰Ωì</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-stamp"></i> ËÉåÊôØÊ∞¥Âç∞</span>
                            <label class="switch">
                                <input type="checkbox" id="has-watermark">
                                <span class="slider round"></span>
                            </label>
                        </label>
                        <div class="form-row watermark-options" style="margin-top: 8px; display: none;">
                            <div class="form-col">
                                <input type="text" class="form-input" id="watermark-text" placeholder="Ê∞¥Âç∞ÊñáÂ≠ó (Â¶Ç: @ÊàëÁöÑË¥¶Âè∑)">
                            </div>
                            <div class="form-col watermark-color-col" style="flex: 0 0 44px;">
                                <div class="color-picker-wrapper small" title="Ê∞¥Âç∞È¢úËâ≤">
                                    <div id="watermark-color-picker"></div>
                                    <i class="fas fa-palette"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span><i class="fas fa-signature"></i> Á≠æÂêçÊ†è</span>
                            <label class="switch">
                                <input type="checkbox" id="has-signature">
                                <span class="slider round"></span>
                            </label>
                        </label>
                        <div id="signature-options" style="display: none; margin-top: 10px;">
                            <div class="form-row">
                                <div class="form-col">
                                    <input type="text" class="form-input" id="signature-text" placeholder="Á≠æÂêçÂÜÖÂÆπ (Â¶Ç: ÊàëÁöÑÂêçÂ≠ó)">
                                </div>
                                <div class="form-col signature-color-col" style="flex: 0 0 44px;">
                                    <div class="color-picker-wrapper small" title="Á≠æÂêçÈ¢úËâ≤">
                                        <div id="signature-color-picker"></div>
                                        <i class="fas fa-palette"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="action-buttons" style="margin-top: 20px; flex-direction: row; gap: var(--spacing-sm);">
                        <button class="btn btn-secondary" id="reset-template-btn" style="flex: 1;">
                            <i class="fas fa-undo"></i>
                            ÈáçÁΩÆ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Ê®°Âùó -->
    <script src="js/constants.js"></script>
    <script src="js/utils/markdown.js"></script>
    <script src="js/utils/canvas-text-engine.js"></script>
    <script src="js/TemplateDefinitions.js"></script>
    <script src="js/CanvasRenderer.js"></script>
    <script src="js/TemplateManager.js"></script>
    <script src="js/TextSplitter.js"></script>
    <script src="js/PreviewGenerator.js"></script>
    <script src="js/DownloadManager.js"></script>
    <script src="js/EditorController.js"></script>
    <script src="js/App.js"></script>
</body>
</html>
