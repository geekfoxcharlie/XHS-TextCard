/* ========================================
 * 文字区域层样式
 * ======================================== */

/* === 文字层基础样式 === */
.text-layer {
    width: var(--text-area-width);
    height: var(--text-area-height);
    position: relative;
    color: var(--template-text-color);
    font-size: var(--template-font-size);
    line-height: var(--template-line-height);
    letter-spacing: var(--template-letter-spacing);
    font-family: var(--template-font-family);
    overflow: hidden;
    box-sizing: border-box;
    margin: 0;
    padding: var(--text-padding);
}

/* === Markdown元素样式 === */
.text-layer p {
  margin: 0 0 0.8em 0;
  line-height: inherit;
  text-align: inherit;
}

.text-layer p:last-child {
  margin-bottom: 0;
}

.text-layer strong {
  font-weight: 700;
  color: inherit;
}

.text-layer em {
  font-style: italic;
  color: inherit;
}

.text-layer u {
  text-decoration: underline;
  text-underline-offset: 2px;
  color: inherit;
}

.text-layer h1, .text-layer h2, .text-layer h3 {
  margin-top: 0.6em;
  margin-bottom: 0.4em;
  line-height: 1.3;
  color: inherit;
  width: 100%;
}

.text-layer h1 { 
  font-size: 1.6em; 
  font-weight: 800;
  border-bottom: 1px solid rgba(0,0,0,0.08);
  padding-bottom: 0.2em;
}

.text-layer h2 { 
  font-size: 1.4em; 
  font-weight: 750;
}

.text-layer h3 { 
  font-size: 1.2em; 
  font-weight: 700;
}

.text-layer ul, .text-layer ol {
  margin-top: 0;
  margin-bottom: 0.8em;
  padding-left: 1.5em;
  line-height: inherit;
}

.text-layer li {
  margin-bottom: 0.3em;
  line-height: inherit;
}

.text-layer blockquote {
  margin: 0 0 0.8em 0;
  padding-left: 1em;
  border-left: 4px solid rgba(0,0,0,0.1);
  color: rgba(0,0,0,0.6);
  font-style: italic;
  line-height: inherit;
}

.text-layer code {
  background: rgba(0,0,0,0.05);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  font-size: 0.9em;
  line-height: inherit;
}

.text-layer pre {
  background: rgba(0,0,0,0.05);
  padding: 1em;
  border-radius: 4px;
  overflow-x: auto;
  margin-bottom: 0.8em;
  line-height: 1.4;
}

.text-layer pre code {
  background: none;
  padding: 0;
  font-size: inherit;
}

.text-layer hr {
  border: none;
  height: 1px;
  background: rgba(0,0,0,0.1);
  margin: 1.5em 0;
}

/* === 高亮文本 === */
.text-layer .highlight {
  background: linear-gradient(180deg, transparent 60%, #fff3bf 60%, #fff3bf 90%, transparent 90%);
  padding: 0 2px;
  color: inherit;
  border-radius: 2px;
}

/* === 深色背景适配 === */
.template-layer[data-style*="dark"] .text-layer blockquote {
  border-left-color: rgba(255,255,255,0.2);
  color: rgba(255,255,255,0.6);
}

.template-layer[data-style*="dark"] .text-layer code,
.template-layer[data-style*="dark"] .text-layer pre {
  background: rgba(255,255,255,0.1);
  color: inherit;
}

.template-layer[data-style*="dark"] .text-layer h1 {
  border-bottom-color: rgba(255,255,255,0.15);
}

.template-layer[data-style*="dark"] .text-layer .highlight {
  background: linear-gradient(180deg, transparent 60%, rgba(255, 255, 255, 0.3) 60%, rgba(255, 255, 255, 0.3) 90%, transparent 90%);
}

.template-layer[data-style*="dark"] .text-layer hr {
  background: rgba(255,255,255,0.1);
}

/* === 文本对齐变体 === */
.text-layer.text-align-left { text-align: left; }
.text-layer.text-align-center { text-align: center; }
.text-layer.text-align-right { text-align: right; }
.text-layer.text-align-justify { text-align: justify; }

/* === 字体变体 === */
.text-layer.font-serif { font-family: Georgia, 'Times New Roman', serif; }
.text-layer.font-mono { font-family: 'SF Mono', Monaco, Consolas, monospace; }

/* === 行高变体 === */
.text-layer.leading-tight { line-height: 1.2; }
.text-layer.leading-normal { line-height: 1.5; }
.text-layer.leading-relaxed { line-height: 1.8; }

/* === 消除首尾元素间距 === */
.text-layer > *:first-child {
  margin-top: 0 !important;
}

.text-layer > *:last-child {
  margin-bottom: 0 !important;
}

/* === 文字层动画 === */
.text-layer {
  transition: all var(--transition-normal);
}

.text-layer.fade-in {
  animation: fadeIn 0.3s ease;
}

.text-layer.slide-up {
  animation: slideUp 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(10px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}