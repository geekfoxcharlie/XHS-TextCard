/* ========================================
 * 背景模板层样式
 * ======================================== */

/* === 模板层基础样式 === */
.template-layer {
    width: var(--preview-width);
    height: var(--preview-height);
    position: relative;
    background: var(--template-bg-color);
    border-radius: var(--radius-sm);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    padding: var(--template-layer-padding);
}

.template-layer::before,
.template-layer::after {
    position: absolute;
    pointer-events: none;
    content: '';
}

.template-layer .signature-bar {
    position: absolute;
    left: var(--template-layer-padding);
    right: var(--template-layer-padding);
    bottom: var(--template-layer-padding);
}

.template-layer .watermark-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none;
}

/* === 背景模式支持 === */
.template-layer.bg-mode-solid {
  background: var(--template-bg-color);
}

.template-layer.bg-mode-gradient {
  background: var(--template-bg-color);
}

.template-layer.bg-mode-glass {
  background: var(--template-bg-color);
}

.template-layer.bg-mode-glass::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--template-bg-image, none);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: -1;
}

/* === 模板动画效果 === */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(200%); }
}

/* === 模板过渡效果 === */
.template-layer {
  transition: background var(--transition-normal);
}

.template-layer *,
.template-layer *::before,
.template-layer *::after {
  transition: inherit;
}

/* === 模板状态标识 === */
.template-layer[data-loading="true"] {
  opacity: 0.7;
  pointer-events: none;
}

.template-layer[data-error="true"]::before {
  content: '⚠️';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 48px;
  z-index: 100;
}

/* === 响应式适配 === */
@media (max-width: 768px) {
  .template-layer {
    transform: scale(0.8);
    transform-origin: center;
    margin: 0 auto;
  }
}